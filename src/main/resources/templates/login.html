<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Log In for iRizq Kitchen</title>

  <!-- favicon -->
  <link rel="icon" type="image/x-icon" th:href="@{image/cake.png}">

  <!-- css bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

  <!-- cdn icon link  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

  <!-- custom css file  -->
  <link rel="stylesheet" th:href="@{stylesheets/login.css}">

</head>

<body>
  <div class="formcontainer">
    <h1 class="loginform d-flex justify-content-center" style="font-weight: 800; font-size: 50px; margin: 5% auto;">
      WELCOME TO IRIZQ KITCHEN!</h1>
    <form class="d-flex justify-content-center" method="post" th:action="@{/login}" modelAttribute="login"
      th:object="${login}">
      <div class="card col-6">
        <div class="card-body">


          <div class="mb-3">
            <label for="exampleInputEmail" class="form-label" style="font-size: 18px;">Email address</label>
            <input type="email" class="form-control" id="exampleInputEmail" placeholder="e.g. ali@gmail.com" required
              aria-describedby="emailHelp" name="email" style="font-size: 18px;">
          </div>
          <div class="mb-3">
            <label for="exampleInputPassword1" class="form-label" style="font-size: 18px;">Password</label>
            <input type="password" name="password" class="form-control" id="exampleInputPassword1" minlength="8"
              placeholder="e.g. password" required style="font-size: 18px;">
          </div>
          <div class="text-center">
            <p style="font-size: 15px;">
              Don't have an account?
              <span><a th:href="@{/customerregister}" style="font-size: 15px;">Sign Up</a></span>
            </p>
            <button type="submit" class="btn btn-warning " value="login" style="font-size: 15px;">Log In</button>
          </div>
        </div>
    </form>
  </div>

  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div class="toast" role="alert" id="liveToast1" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <!-- <img th:src="@{image/cake.png}" alt="cake icon" class="rounded me-2"> -->
        <strong class="me-auto">Irizq kitchen</strong>
        <small>1 sec ago</small>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body" id="display-message">
      </div>
    </div>
  </div>

  <!-- js bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
    integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
    crossorigin="anonymous"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const toastLiveExample = document.getElementById("liveToast1");
      const toastBootstrap = new bootstrap.Toast(toastLiveExample);

      const urlParams = new URLSearchParams(window.location.search);
      const successParam = urlParams.get('success');

      if (successParam !== null && successParam === 'true') {
        toastBootstrap.show();
        document.getElementById("display-message").innerHTML = "Account registered successfully!";
      } else if (successParam !== null && successParam === 'false') {
        toastBootstrap.show();
        document.getElementById("display-message").innerHTML = "Wrong email or password. Please try again.";
      }
    });
  </script>
</body>

</html>